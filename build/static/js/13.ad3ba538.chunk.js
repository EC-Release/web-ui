(this["webpackJsonpec-admin-webui"]=this["webpackJsonpec-admin-webui"]||[]).push([[13,21],{33:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(33);function r(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(34);function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n.a)(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(33);var r=a(34);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},41:function(e,t,a){e.exports=a.p+"static/media/icon_arrowmore.d49ae6a5.svg"},73:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(36),r=a(35),o=a(2),i=a(3),l=a(5),s=a(4),d=a(0),c=a.n(d),u=a(1),p=a.n(u),h=a(41),m=a.n(h),g=a(6),b=a.n(g),f=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={tableData:[],newTableData:[],showTableInit:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];fetch("https://reqres.in/api/users/2",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:this.props.authToken}}).then((function(a){200===a.status&&a.json().then((function(a){var n=[{gatewayId:"Gateway-10afc420-d8ad-41ec-8be6-6f723e6fb18a",userId:"212712078",gatewayPort:"8080",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1b",serviceUrl:"https://b3a2e606-eaa8-4d3c-aadc-c27f12260a1b.run.aws-usw02-dev.ice.predix.io",admToken:"YWRtaW46WUo1NVBpWUkwWXpZcmpFQjVsc0dNNGdOcVRTSDlwS1l5RFJXcldOTElwSjA0TlBJM1M=",hostUrl:"wss://gateway-url/agent"},{gatewayId:"Gateway-d4b7844c-f9b2-4ab3-bab3-592b8ca1629d",userId:"212712078",gatewayPort:"8080",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1d",serviceUrl:"https://b3a2e606-eaa8-4d3c-aadc-c27f12260a1b.run.aws-usw02-dev.ice.predix.io",admToken:"YWRtaW46WUo1NVBpWUkwWXpZcmpFQjVsc0dNNGdOcVRTSDlwS1l5RFJXcldOTElwSjA0TlBJM1M=",hostUrl:"wss://gateway-url/agent"}];if(null===n&&(n=[]),n.length>0){var o,i=Object(r.a)(n);try{for(i.s();!(o=i.n()).done;){var l=o.value,s={agent_id:""};s.gateway=l.hostUrl,s.group="",s.oauth_provider="",s.zone=l.zone,s.subscription=l.gatewayId,s.remote_port="",s.remote_host="",t.push(s)}}catch(d){i.e(d)}finally{i.f()}}fetch("https://reqres.in/api/users/2",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:e.props.authToken}}).then((function(a){200===a.status&&a.json().then((function(a){var n=[{serverId:"Server-56ca9bb6-62ee-4a41-88bd-107d20ceed30",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1b",serviceUrl:"https://service-url",hostUrl:"wss://gateway-url/agent",agentId:"xbdhfg",groupId:"ec-test",uaaUrl:"https://uaa-url",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,remoteHost:"localhost",remotePort:"5432",plugin:null},{serverId:"Server-849d04cc-2f81-413d-a269-5402960fbd8e",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1b",serviceUrl:"https://service-url",hostUrl:"wss://gateway-url/agent",agentId:"xbdhfg",groupId:"ec-test",uaaUrl:"https://uaa-url",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,remoteHost:"localhost",remotePort:"5432",plugin:null}];if(null===n&&(n=[]),n.length>0){var o,i=Object(r.a)(n);try{for(i.s();!(o=i.n()).done;){var l=o.value,s={};s.agent_id=l.agentId,s.gateway=l.hostUrl,s.group=l.groupId,s.oauth_provider=l.uaaUrl,s.zone=l.zone,s.subscription=l.serverId,s.remote_port=l.remotePort,s.remote_host=l.remoteHost,t.push(s)}}catch(d){i.e(d)}finally{i.f()}}fetch("https://reqres.in/api/users/2",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:e.props.authToken}}).then((function(a){200===a.status&&a.json().then((function(a){var n=[{clientId:"Client-1b95c319-aa6c-44ba-8c2f-2b1764efe697",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",hostUrl:"wss://gateway-url/agent",agentId:"hdsvhe",targetId:"dhvhye",groupId:"ec-test",uaaUrl:"https://url.predix.io/token",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,localPort:"7999",plugin:null},{clientId:"Client-45a222d9-50fa-48c8-a7ec-ec700a1ce44f",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",hostUrl:"wss://gateway-url/agent",agentId:"hdsvhe",targetId:"dhvhye",groupId:"ec-test",uaaUrl:"https://url.predix.io/token",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,localPort:"7999",plugin:null}];null===n&&(n=[]);for(var r=0,o=n;r<o.length;r++){var i=o[r],l={};l.agent_id=i.agentId,l.gateway=i.hostUrl,l.group=i.groupId,l.oauth_provider=i.uaaUrl,l.zone="",l.subscription=i.clientId,l.remote_port="",l.remote_host="",t.push(l)}e.generateTableStructure(t),e.setState({tableData:t})}))}))}))}))}))}))}},{key:"componentDidUpdate",value:function(){}},{key:"initTable",value:function(e){var t;t=p()("#"+e+"Div")[0].offsetWidth-200,p()("#"+e).DataTable({dom:'rt<"bottom"lp>',bSort:!0,scrollX:!0,language:{paginate:{previous:"<",next:">"}},createdRow:function(e,a,n){for(var r=0;r<a.length;r++)p()("td:eq("+r+")",e).css("min-width",t/a.length+"px")},pageLength:5,destroy:!0,fnDrawCallback:function(e){e.aiDisplay.length<=5?p()(".dataTables_paginate").hide():p()(".dataTables_paginate").show()}}),p()(".bottom").addClass("row"),p()(".dataTables_length").addClass("col-sm-6"),p()(".dataTables_paginate").addClass("col-sm-6")}},{key:"generateTableStructure",value:function(e){var t,a=this,n=e,o=[],i=Object(r.a)(n);try{for(i.s();!(t=i.n()).done;){var l=t.value,s={};s.agent_id=l.agent_id,s.group=l.group,l.gateway.length>10?(s.gateway=l.gateway.substr(0,10),s.gatewayHidden=l.gateway,s.gatewayHiddenFlag=!0):(s.gateway=l.gateway,s.gatewayHiddenFlag=!1),l.oauth_provider.length>10?(s.oauth_provider=l.oauth_provider.substr(0,10),s.oauth_providerHidden=l.oauth_provider,s.oauth_providerHiddenFlag=!0):(s.oauth_provider=l.oauth_provider,s.oauth_providerHiddenFlag=!1),l.zone.length>10?(s.zone=l.zone.substr(0,10),s.zoneHidden=l.zone,s.zoneHiddenFlag=!0):(s.zone=l.zone,s.zoneHiddenFlag=!1),l.subscription.length>10?(s.subscription=l.subscription.substr(0,10),s.subscriptionHidden=l.subscription,s.subscriptionHiddenFlag=!0):(s.subscription=l.subscription,s.subscriptionHiddenFlag=!1),l.remote_host.length>10?(s.remote_host=l.remote_host.substr(0,10),s.remote_hostHidden=l.remote_host,s.remote_hostHiddenFlag=!0):(s.remote_host=l.remote_host,s.remote_hostHiddenFlag=!1),l.remote_port.length>10?(s.remote_port=l.remote_port.substr(0,10),s.remote_portHidden=l.remote_port,s.remote_portHiddenFlag=!0):(s.remote_port=l.remote_port,s.remote_portHiddenFlag=!1),o.push(s)}}catch(d){i.e(d)}finally{i.f()}this.setState({newTableData:o,showTableInit:!0}),setTimeout((function(){a.initTable("maintainagentviewTable")}),100)}},{key:"showHideTableTdData",value:function(e,t){var a=Object(n.a)(this.state.newTableData),r=Object.assign({},a[e]);if("gateway"===t){var o=r.gateway;r.gateway=r.gatewayHidden,r.gatewayHidden=o,r.gatewayHiddenFlag=!r.gatewayHiddenFlag,a[e]=r}else if("oauth_provider"===t){var i=r.oauth_provider;r.oauth_provider=r.oauth_providerHidden,r.oauth_providerHidden=i,r.oauth_providerHiddenFlag=!r.oauth_providerHiddenFlag,a[e]=r}else if("zone"===t){var l=r.zone;r.zone=r.zoneHidden,r.zoneHidden=l,r.zoneHiddenFlag=!r.zoneHiddenFlag,a[e]=r}else if("subscription"===t){var s=r.subscription;r.subscription=r.subscriptionHidden,r.subscriptionHidden=s,r.subscriptionHiddenFlag=!r.subscriptionHiddenFlag,a[e]=r}else if("remote_host"===t){var d=r.remote_host;r.remote_host=r.remote_hostHidden,r.remote_hostHidden=d,r.remote_hostHiddenFlag=!r.remote_hostHiddenFlag,a[e]=r}else if("remote_port"===t){var c=r.remote_port;r.remote_port=r.remote_portHidden,r.remote_portHidden=c,r.remote_portHiddenFlag=!r.remote_portHiddenFlag,a[e]=r}this.setState({newTableData:a})}},{key:"filterByValue",value:function(e,t){return e.filter((function(e){return Object.keys(e).some((function(a){return e[a].toLowerCase().includes(t.toLowerCase())}))}))}},{key:"destroyDataTable",value:function(e){p()("#"+e).DataTable().destroy()}},{key:"filterData",value:function(e){var t=this;this.destroyDataTable("maintainagentviewTable");var a=e.target.value.trim(),o=Object(n.a)(this.state.tableData),i=[],l=[];i=""!=a?this.filterByValue(o,a):o;var s,d=Object(r.a)(i);try{for(d.s();!(s=d.n()).done;){var c=s.value,u={};u.agent_id=c.agent_id,u.group=c.group,c.gateway.length>10?(u.gateway=c.gateway.substr(0,10),u.gatewayHidden=c.gateway,u.gatewayHiddenFlag=!0):(u.gateway=c.gateway,u.gatewayHiddenFlag=!1),c.oauth_provider.length>10?(u.oauth_provider=c.oauth_provider.substr(0,10),u.oauth_providerHidden=c.oauth_provider,u.oauth_providerHiddenFlag=!0):(u.oauth_provider=c.oauth_provider,u.oauth_providerHiddenFlag=!1),c.zone.length>10?(u.zone=c.zone.substr(0,10),u.zoneHidden=c.zone,u.zoneHiddenFlag=!0):(u.zone=c.zone,u.zoneHiddenFlag=!1),c.subscription.length>10?(u.subscription=c.subscription.substr(0,10),u.subscriptionHidden=c.subscription,u.subscriptionHiddenFlag=!0):(u.subscription=c.subscription,u.subscriptionHiddenFlag=!1),c.remote_host.length>10?(u.remote_host=c.remote_host.substr(0,10),u.remote_hostHidden=c.remote_host,u.remote_hostHiddenFlag=!0):(u.remote_host=c.remote_host,u.remote_hostHiddenFlag=!1),c.remote_port.length>10?(u.remote_port=c.remote_port.substr(0,10),u.remote_portHidden=c.remote_port,u.remote_portHiddenFlag=!0):(u.remote_port=c.remote_port,u.remote_portHiddenFlag=!1),l.push(u)}}catch(p){d.e(p)}finally{d.f()}this.setState({newTableData:l}),setTimeout((function(){t.initTable("maintainagentviewTable")}),0)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"row Maintainagentview"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("div",{className:"row mt-2"},c.a.createElement("div",{className:"col-sm-6 text-left"},c.a.createElement("div",{className:"d-inline"},c.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary disabled"},c.a.createElement("i",{className:"fa fa-filter"}),"FILTER")),c.a.createElement("div",{className:"d-inline p-2"},c.a.createElement("input",{type:"text",className:"d-inline form-control form-control-sm search-field",onChange:function(t){e.filterData(t)}})))),c.a.createElement("div",{className:"centered-div"},c.a.createElement("div",{id:"maintainagentviewTableDiv"},this.state.showTableInit?c.a.createElement("table",{id:"maintainagentviewTable",className:"table text-center"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Subscription"),c.a.createElement("th",null,"Agent ID"),c.a.createElement("th",null,"Gateway"),c.a.createElement("th",null,"Group"),c.a.createElement("th",null,"OAuth Provider"),c.a.createElement("th",null,"Zone"),c.a.createElement("th",null,"Remote Host"),c.a.createElement("th",null,"Remote Port"))),c.a.createElement("tbody",null,this.state.newTableData.map((function(t,a){return c.a.createElement("tr",{key:"maintainagentviewTableTbodyTr_"+a},c.a.createElement("td",null,t.subscription,"\xa0\xa0",t.subscriptionHiddenFlag?c.a.createElement("img",{onClick:e.showHideTableTdData.bind(e,a,"subscription"),className:"icon-arrowmore",alt:"td-detail",src:m.a}):null),c.a.createElement("td",null,t.agent_id),c.a.createElement("td",null,t.gateway,"\xa0\xa0",t.gatewayHiddenFlag?c.a.createElement("img",{onClick:e.showHideTableTdData.bind(e,a,"gateway"),className:"icon-arrowmore",alt:"td-detail",src:m.a}):null),c.a.createElement("td",null,t.group),c.a.createElement("td",null,t.oauth_provider,"\xa0\xa0",t.oauth_providerHiddenFlag?c.a.createElement("img",{onClick:e.showHideTableTdData.bind(e,a,"oauth_provider"),className:"icon-arrowmore",alt:"td-detail",src:m.a}):null),c.a.createElement("td",null,t.zone,"\xa0\xa0",t.zoneHiddenFlag?c.a.createElement("img",{onClick:e.showHideTableTdData.bind(e,a,"zone"),className:"icon-arrowmore",alt:"td-detail",src:m.a}):null),c.a.createElement("td",null,t.remote_host,"\xa0\xa0",t.remote_hostHiddenFlag?c.a.createElement("img",{onClick:e.showHideTableTdData.bind(e,a,"remote_host"),className:"icon-arrowmore",alt:"td-detail",src:m.a}):null),c.a.createElement("td",null,t.remote_port,"\xa0\xa0",t.remote_portHiddenFlag?c.a.createElement("img",{onClick:e.showHideTableTdData.bind(e,a,"remote_port"),className:"icon-arrowmore",alt:"td-detail",src:m.a}):null))})))):c.a.createElement("p",{className:"text-center loader-icon"},c.a.createElement("img",{alt:"loading",src:b.a}))))))}}]),a}(c.a.Component)}}]);
//# sourceMappingURL=13.ad3ba538.chunk.js.map