(this["webpackJsonpec-admin-webui"]=this["webpackJsonpec-admin-webui"]||[]).push([[0],{48:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return r}));var s=a(35),l=a(2),n=a(3),o=a(5),c=a(4),m=a(0),i=a.n(m),r=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={gateway:"",selectedGateway:"",gateways:[],healthLink:"",session:{sessionId:"",id:"",bindId:"",targetId:"",groupId:""},superConnection:{serverId:"",id:"",targetId:"",groupId:"",timeCreated:"",ip:"",lastPong:""},connection:{bindId:"",clientConfiguration:"",id:"",bindId2:"",targetId:"",groupId:"",timeCreated:"",allocations:"",totalAllocations:"",frees:"",heapAlloc:"",heapInUse:"",heapReleased:"",heapObjects:"",report:"",lastUsage:"",lastReport:""},gatewayDetails:{mode:"",environment:"",gatewayPort:"",zone:"",serviceUrl:"",token:"",host:"",os:""},showSession:!1,showConnection:!1,showSuperConnection:!1},s}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("gatewayDetails"));this.setState({gateways:t,selectedGateway:t[this.props.tableindx].gatewayId}),setTimeout((function(){e.fetchHealthStatus()}),500)}},{key:"handleChange",value:function(e){var t=e.target.id;if("session"===t){var a=this.state.showSession;this.setState({showSession:!a})}if("superConnection"===t){var s=this.state.showSuperConnection;this.setState({showSuperConnection:!s})}if("connections"===t){var l=this.state.showConnection;this.setState({showConnection:!l})}}},{key:"fetchHealthStatus",value:function(){var e=this,t=(this.state.selectedGateway,this.state.gateways,Object.assign({},this.state.superConnection)),a=Object.assign({},this.state.connection),l=Object.assign({},this.state.gatewayDetails);fetch("https://jsonplaceholder.typicode.com/todos/1").then((function(n){200===n.status&&n.json().then((function(n){if(e.props.showGlobalMessage(!0,!0,"Please wait","custom-success"),(n=[{sessionId:"0idLmsMk8e",id:"Q7rfHI",bindId:"db6Wt2ReXF",targetId:"Q7rfHI",groupId:"wabtec-gecars-qadasdsa"}]).length>0){var o,c=Object(s.a)(n);try{for(c.s();!(o=c.n()).done;){var m=o.value;n.sessionId=m.sessionId,n.id=m.id,n.bindId=m.bindId,n.targetId=m.targetId,n.groupId=m.groupId}}catch(i){c.e(i)}finally{c.f()}e.setState({session:n})}fetch("https://jsonplaceholder.typicode.com/todos/1").then((function(n){200===n.status&&n.json().then((function(n){if((n=[{serverId:"OGhEuE",id:"OGhEuE",targetId:"value",groupId:"smartshop-prod",timeCreated:"2019-11-13T22:05:38.101993815Z",ip:"10.72.1.16:61368",lastPong:"0001-01-01T00:00:00Z"}]).length>0){var o,c=Object(s.a)(n);try{for(c.s();!(o=c.n()).done;){var m=o.value;t.serverId=m.serverId,t.id=m.id,t.targetId=m.targetId,t.groupId=m.groupId,t.timeCreated=m.timeCreated,t.ip=m.ip,t.lastPong=m.lastPong}}catch(i){c.e(i)}finally{c.f()}e.setState({superConnection:t})}fetch("https://jsonplaceholder.typicode.com/todos/1").then((function(t){200===t.status&&(t.json().then((function(t){if((t=[{bindId:"DstAet",clientConfiguration:"value",id:"087ADA",bindId2:"0074C5",targetId:"OGhEuE",groupId:"smartshop-prod",timeCreated:"2019-11-13T22:05:38.101993815Z",allocations:"2903776",totalAllocations:"25007624",frees:"394315",heapAlloc:"2903776",heapInUse:"5185536",heapReleased:"60203008",heapObjects:"20224",report:"value",lastUsage:"987",lastReport:"0001-01-01T00:00:00Z"}]).length>0){var l,n=Object(s.a)(t);try{for(n.s();!(l=n.n()).done;){var o=l.value;a.bindId=o.bindId,a.clientConfiguration=o.clientConfiguration,a.id=o.id,a.bindId2=o.bindId2,a.targetId=o.targetId,a.groupId=o.groupId,a.timeCreated=o.timeCreated,a.allocations=o.allocations,a.totalAllocations=o.totalAllocations,a.frees=o.frees,a.heapAlloc=o.heapAlloc,a.heapInUse=o.heapInUse,a.heapReleased=o.heapReleased,a.heapObjects=o.heapObjects,a.report=o.report,a.lastUsage=o.lastUsage,a.lastReport=o.lastReport}}catch(i){n.e(i)}finally{n.f()}e.setState({connection:a})}})),fetch("https://jsonplaceholder.typicode.com/todos/1").then((function(t){200===t.status&&t.json().then((function(t){if((t=[{mode:"GATEWAY",environment:"AWS",gatewayPort:"8080",zone:"",serviceUrl:"https://ec-agent-portal-1x.com",token:"none",host:"ws://asda/agent",os:"linux"}]).length>0){var a,n=Object(s.a)(t);try{for(n.s();!(a=n.n()).done;){var o=a.value;l.mode=o.mode,l.environment=o.environment,l.gatewayPort=o.gatewayPort,l.zone=o.zone,l.serviceUrl=o.serviceUrl,l.token=o.token,l.host=o.host,l.os=o.os}}catch(i){n.e(i)}finally{n.f()}e.setState({gatewayDetails:l}),e.props.hideGlobalMessage()}}))})))}))}))}))}))})).catch((function(t){console.log(t),e.props.showGlobalMessage(!0,!0,"Error","custom-danger");var a=e;setTimeout((function(){a.props.hideGlobalMessage()}),2e3)}))}},{key:"handleGatewayselection",value:function(e){var t=e.target.value;this.setState({selectedGateway:t})}},{key:"gatewayOperations",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Monitorhealthstatus"},i.a.createElement("div",{className:"card mt-2"},i.a.createElement("div",{className:"row insidedata"},i.a.createElement("form",null,i.a.createElement("div",{className:"form-row"},i.a.createElement("div",{className:"col-sm-12 text-left"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4 border-bottom text-center"},i.a.createElement("label",null,"GATEWAYID - \xa0")," ",i.a.createElement("b",null," ",this.state.selectedGateway)),i.a.createElement("div",{className:"col-sm-8"},i.a.createElement("div",{className:"row ops-btn"},this.props.permissions.accesses.monitor.subMenus.healthStatus.isUser?null:i.a.createElement("button",{type:"button",id:"restart-gateway-btn",disabled:""===this.state.selectedGateway,className:"btn customize-view-btn btn-sm",onClick:function(){e.gatewayOperations(e.state.selectedGateway,"restart")}},"Restart Gateway"),this.props.permissions.accesses.monitor.subMenus.healthStatus.isUser?i.a.createElement("button",{type:"button",id:"access-gateway-btn",disabled:""===this.state.selectedGateway,className:"btn customize-view-btn btn-sm",onClick:function(){e.gatewayOperations(e.state.selectedGateway,"access")}},"Access Gateway"):null))))))),i.a.createElement("div",{className:"row insidedata"},i.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link active",id:"sessions-tab"+this.props.tableindx,"data-toggle":"tab",href:"#sessions"+this.props.tableindx,role:"tab","aria-controls":"sessions","aria-selected":"true"},"SESSIONS")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",id:"superconnections-tab"+this.props.tableindx,"data-toggle":"tab",href:"#superconnections"+this.props.tableindx,role:"tab","aria-controls":"superconnections","aria-selected":"false"},"SUPER CONNECTIONS")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",id:"contact-tab"+this.props.tableindx,"data-toggle":"tab",href:"#contact"+this.props.tableindx,role:"tab","aria-controls":"contact","aria-selected":"false"},"CLIENT POOL")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("a",{className:"nav-link",id:"details-tab"+this.props.tableindx,"data-toggle":"tab",href:"#details"+this.props.tableindx,role:"tab","aria-controls":"details","aria-selected":"false"},"GATEWAY DETAILS"))),i.a.createElement("div",{className:"tab-content",id:"myTabContent",style:{textAlign:"center"}},i.a.createElement("div",{className:"tab-pane fade show active",id:"sessions"+this.props.tableindx,role:"tabpanel","aria-labelledby":"sessions-tab"+this.props.tableindx},i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-5 "}),i.a.createElement("div",{className:"col-sm-2 text-center"},i.a.createElement("select",{className:"form-control form-control-sm health-status-select",id:"selectedSession",name:"selectedSession",onChange:function(t){e.handleGatewayselection(t)}},i.a.createElement("option",{value:""},"Select SessionId"),i.a.createElement("option",{value:"0idLmsMk8e"},"0idLmsMk8e")))),i.a.createElement("br",null),i.a.createElement("div",{className:"row",style:{textAlign:"center"}},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Session ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.session.sessionId)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Group ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.session.groupId))),i.a.createElement("div",{className:"row",style:{textAlign:"center"}},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Bind ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.session.bindId)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Target ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.session.targetId))),i.a.createElement("div",{className:"row",style:{textAlign:"center"}},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Server config ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.session.id)))),i.a.createElement("div",{className:"tab-pane fade",id:"superconnections"+this.props.tableindx,role:"tabpanel","aria-labelledby":"superconnections-tab"+this.props.tableindx},i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-5 "}),i.a.createElement("div",{className:"col-sm-2 text-center"},i.a.createElement("select",{className:"form-control form-control-sm health-status-select",id:"selectedConnection",name:"selectedConnection",onChange:function(t){e.handleGatewayselection(t)}},i.a.createElement("option",{value:""},"Select ServerID"),i.a.createElement("option",{value:"0idLmsMk8e"},"0idLmsMk8e")))),i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Server ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.superConnection.serverId)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Time created:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.superConnection.timeCreated))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.superConnection.id)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Group ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.superConnection.groupId))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Target ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.superConnection.targetId)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"IP:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.superConnection.ip))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("small",{className:"font-weight-bold"},"Last Pong:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.superConnection.lastPong)))),i.a.createElement("div",{className:"tab-pane fade",id:"contact"+this.props.tableindx,role:"tabpanel","aria-labelledby":"contact-tab"+this.props.tableindx}," ",i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-5 "}),i.a.createElement("div",{className:"col-sm-2 text-center"},i.a.createElement("select",{className:"form-control form-control-sm health-status-select",id:"selectedClientId",name:"selectedClientId",onChange:function(t){e.handleGatewayselection(t)}},i.a.createElement("option",{value:""},"Select ClientId"),i.a.createElement("option",{value:"0idLmsMk8e"},"0idLmsMk8e")))),i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Bind ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.bindId)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Client configuration:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.clientConfiguration)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.id))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Frees:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.frees)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Target ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.targetId)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Group ID:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.groupId))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Time created:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.timeCreated)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Allocations:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.allocations)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Total Allocations:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.totalAllocations))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Heap Alloc:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.heapAlloc)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Heap in use:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.heapInUse)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Heap released:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.heapReleased))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Heap Objects:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.heapObjects)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Report:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.report)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Last usage:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.connection.lastUsage)))),i.a.createElement("div",{className:"tab-pane fade show",id:"details"+this.props.tableindx,role:"tabpanel","aria-labelledby":"details-tab"+this.props.tableindx},i.a.createElement("br",null),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Mode:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.mode)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Environment:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.environment)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Gateway Port:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.gatewayPort))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Zone:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.zone)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"serviceUrl:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.serviceUrl)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Host:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.host))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"Token:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.token)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement("small",{className:"font-weight-bold"},"OS:"),i.a.createElement("small",{className:"font-weight-normal theme-color"},this.state.gatewayDetails.os))))))))}}]),a}(i.a.Component)}}]);
//# sourceMappingURL=0.a0abd796.chunk.js.map