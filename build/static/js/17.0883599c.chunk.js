(this["webpackJsonpec-admin-webui"]=this["webpackJsonpec-admin-webui"]||[]).push([[17,21],{33:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(33);function r(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(34);function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n.a)(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw s}}}}},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(33);var r=a(34);function s(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(36),r=a(35),s=a(2),o=a(3),i=a(5),l=a(4),c=a(0),u=a.n(c),m=a(1),d=a.n(m),p=a(6),b=a.n(p),f=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={tableData:[],newTableData:[],selectedSubscriptionId:"",showTableInit:!1,subscriptions:[],groupId:"",changeForm:!1,filterValue:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];if(null!==sessionStorage.getItem("snapshotData")){var a=JSON.parse(sessionStorage.getItem("snapshotData")),n=[];Object.keys(a).forEach((function(e){n.push(a[e])}));for(var r=0,s=n;r<s.length;r++){var o=s[r];o.parent&&"f894e5a8-0f9b-46ca-8b74-57e94610d731"===o.parent&&t.push(o)}this.generateTableStructure(t),this.setState({tableData:t}),0===t.length&&(this.props.showGlobalMessage(!0,!0,"There is no Data","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))}else this.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerForSubscriptionList),this.timerForSubscriptionList=null}},{key:"initTable",value:function(e,t){var a;a=d()("#groupupgradeTableDiv")[0].offsetWidth-200,d()("#"+e).DataTable({dom:'rt<"bottom"lp>',bSort:!0,scrollX:!0,language:{paginate:{previous:"<",next:">"}},createdRow:function(e,t,n){for(var r=0;r<t.length;r++)d()("td:eq("+r+")",e).css("min-width",a/t.length+"px")},pageLength:5,stateSave:t,destroy:!0,fnDrawCallback:function(e){e.aiDisplay.length<=5?d()(".dataTables_paginate").hide():d()(".dataTables_paginate").show()}}),d()(".bottom").addClass("row"),d()(".dataTables_length").addClass("col-sm-6"),d()(".dataTables_paginate").addClass("col-sm-6")}},{key:"getSubscriptionList",value:function(){fetch(this.props.baseUrl+"/listSubscriptions",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken}}).then((function(e){200===e.status&&e.json().then((function(e){if("ok"===e.errorStatus.status){var t=e.data;localStorage.setItem("subscriptions",JSON.stringify(t))}else console.log("Subscription list backgroung api error")}))})).catch((function(e){console.log(e),console.log("Subscription list backgroung api error")}))}},{key:"generateTableStructure",value:function(e){var t,a=this,n=[],s=Object(r.a)(e);try{for(s.s();!(t=s.n()).done;){var o=t.value,i={};i.groupId=o.groupId,i.subscriptions=o.subscriptionId,n.push(i)}}catch(l){s.e(l)}finally{s.f()}this.setState({tableData:n,newTableData:n,showTableInit:!0}),setTimeout((function(){a.initTable("groupupgradeTable")}),100)}},{key:"edit",value:function(e){var t=this,a=void 0===e.subscriptions?[]:e.subscriptions,n=e.groupId;this.setState({subscriptions:a,groupId:n}),setTimeout((function(){t.setState({changeForm:!0})})),setTimeout((function(){d()("select").selectpicker()}),500)}},{key:"destroyDataTable",value:function(e){d()("#"+e).DataTable().destroy()}},{key:"filterData",value:function(e){var t=this;this.destroyDataTable("groupupgradeTable");var a,s=e.target.value.trim(),o=Object(n.a)(this.state.tableData),i=[],l=Object(r.a)(o);try{for(l.s();!(a=l.n()).done;){var c=a.value,u={};void 0!==c.groupId&&(u.groupId=c.groupId,i.push(u))}}catch(d){l.e(d)}finally{l.f()}var m=[];m=""!==s?i.filter((function(e){return e.groupId.toLowerCase().includes(s.toLowerCase())})):i,setTimeout((function(){t.setState({filterValue:s,newTableData:m}),t.initTable("groupupgradeTable")}),0)}},{key:"changeFormHandler",value:function(){var e=this;setTimeout((function(){e.setState({changeForm:!1,filterValue:""})}),0),this.generateTableStructure(this.state.tableData)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"row Groupupgrade"},this.state.changeForm?u.a.createElement("div",{className:"col-md-12 centered-div"},u.a.createElement("div",{className:"row text-center"},u.a.createElement("div",{className:"col-sm-6"},u.a.createElement("div",{className:"col-sm-12 label text-left"},"Group Id"),u.a.createElement("div",{className:"col-sm-12 mb-2"},u.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"subscriptionName",disabled:!0,value:this.state.groupId}))),u.a.createElement("div",{className:"col-sm-6 text-center"},u.a.createElement("div",{className:"col-sm-12 label text-left"},"Subscriptions"),u.a.createElement("select",{className:"selectpicker form-control form-control-sm ",multiple:!0,"data-live-search":"true",name:"subscriptionId",value:this.state.subscriptions,readOnly:!0},this.state.subscriptions.map((function(e,t){return u.a.createElement("option",{key:"subscriptionOption"+t,value:e},e)}))))),u.a.createElement("div",{className:"row text-center"},u.a.createElement("div",{className:"col-sm-12 mb-2 text-center"},u.a.createElement("button",{id:"create-group-btn",onClick:function(){return e.changeFormHandler()},className:"btn btn-sm customize-view-btn"},"Back")))):u.a.createElement("div",{className:"col-md-12"},u.a.createElement("div",{className:"row mt-2"},u.a.createElement("div",{className:"col-sm-6 text-left"},u.a.createElement("div",{className:"d-inline"},u.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary disabled"},u.a.createElement("i",{className:"fa fa-filter"}),"FILTER")),u.a.createElement("div",{className:"d-inline p-2"},u.a.createElement("input",{type:"text",value:this.state.filterValue,className:"d-inline form-control form-control-sm search-field",onChange:function(t){e.filterData(t)}})))),u.a.createElement("div",{className:"row"}," ",null," "),u.a.createElement("div",{className:"centered-div"},u.a.createElement("div",{id:"groupupgradeTableDiv"},this.state.showTableInit?this.state.newTableData.length>0?u.a.createElement("table",{id:"groupupgradeTable",className:"table text-center"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Group ID"),this.props.permissions.accesses.maintain.subMenus.groups.view?u.a.createElement("th",null,"Action"):null)),u.a.createElement("tbody",null,this.state.newTableData.map((function(t,a){return u.a.createElement("tr",{key:"groupupgradeTableTbodyTr_"+a,id:"groupupgradeTableTbodyTr_"+a},u.a.createElement("td",null,t.groupId),e.props.permissions.accesses.maintain.subMenus.groups.delete?u.a.createElement("td",null,u.a.createElement("span",{className:"action-img"},u.a.createElement("i",{onClick:e.edit.bind(e,t),className:"fa fa-eye cursor-pointer",title:"View"}))):null)})))):u.a.createElement("div",{className:"row mt-2"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("div",{className:"alert alert-success",role:"alert"},"No record found!"))):u.a.createElement("p",{className:"text-center loader-icon"},u.a.createElement("img",{alt:"loading",src:b.a}))))))}}]),a}(u.a.Component)}}]);
//# sourceMappingURL=17.0883599c.chunk.js.map