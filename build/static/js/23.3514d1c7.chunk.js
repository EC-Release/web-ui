(this["webpackJsonpec-admin-webui"]=this["webpackJsonpec-admin-webui"]||[]).push([[23],{37:function(e,t,a){e.exports=a.p+"static/media/icon_greensortingdown.7d91f50e.svg"},40:function(e,t,a){e.exports=a.p+"static/media/info.dffb9c37.svg"},65:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var s=a(2),r=a(3),o=a(5),n=a(4),i=a(0),c=a.n(i),l=(a(1),a(37),a(40)),m=a.n(l),d=function(e){Object(o.a)(a,e);var t=Object(n.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={transactionForm:{revision:{value:"v1.2beta",dirtyState:!1},transactionId:{value:"",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1}},transactionFormIsValid:!1,errorsForm:{}},r}return Object(r.a)(a,[{key:"handleFormData",value:function(e){var t=Object.assign({},this.state.transactionForm),a=(e.target.name,e.target.value);t.oidcUserId.value=a,t.oidcUserId.dirtyState=!0,this.setState({transactionForm:t}),this.handleFormValidation()}},{key:"handleFormValidation",value:function(){var e=!0,t={},a=this.state.transactionForm.oidcUserId;""===a.value.trim()&&(a.dirtyState&&(t.oidcUserId="Please enter SSO"),e=!1),this.setState({errorsForm:t,transactionFormIsValid:e})}},{key:"shareSubscription",value:function(){var e=this;this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success");var t=Object.assign({},this.state.transactionForm),a={},s=this.props.baseUrl+t.revision.value+"/trs/add/oidc-user-id";a.trid=t.transactionId.value,a.oidcUserId=t.oidcUserId.value,a.revision=t.revision.value,console.log(a),fetch(s,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken},body:JSON.stringify(a)}).then((function(t){200===t.status?t.json().then((function(t){"ok"==(t={errorStatus:{status:"ok"}}).errorStatus.status?(e.props.showGlobalMessage(!1,!0,"Record saved successfully","custom-success"),setTimeout((function(){e.props.hideGlobalMessage();e.setState({transactionForm:{revision:{value:"v1.2beta",dirtyState:!1},transactionId:{value:"",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1}},transactionFormIsValid:!1})}),2e3)):(e.props.showGlobalMessage(!0,!0,t.errorStatus.statusMsg,"custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})):(e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})).catch((function(t){console.log(t),e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3)}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"centered-div-header"},c.a.createElement("div",{className:"row maintainagentcreate-header"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("h6",{id:"maintainlicenseCreate-title"},"Share Subscription"," ",c.a.createElement("small",null,"One Subscription ID can be share among your team.")))),c.a.createElement("hr",null),c.a.createElement("div",{className:"changeable-form subscription-form"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("div",{className:"col-sm-12 label required"},"Subscription ID"),c.a.createElement("div",{className:"col-sm-12 mb-2"},c.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"licenseId",readOnly:!0}))),c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("div",{className:"col-sm-12 label required"},"SSO",c.a.createElement("span",{className:"float-right help-text"},c.a.createElement("img",{alt:"info",src:m.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top"}))),c.a.createElement("div",{className:"col-sm-12 mb-2"},c.a.createElement("input",{type:"text",autoComplete:"off",className:"form-control form-control-sm",name:"sso",onChange:function(t){e.handleFormData(t)}}),c.a.createElement("small",{className:"text-danger"},this.state.errorsForm.oidcUserId)))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 mb-2 text-center"},c.a.createElement("button",{id:"create-subscription-btn",disabled:!this.state.transactionFormIsValid,onClick:this.shareSubscription.bind(this),className:"btn btn-sm customize-view-btn"},"CREATE SUBCRIPTION")))))}}]),a}(c.a.Component)}}]);
//# sourceMappingURL=23.3514d1c7.chunk.js.map