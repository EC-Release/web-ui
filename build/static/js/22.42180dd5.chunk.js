(this["webpackJsonpec-admin-webui"]=this["webpackJsonpec-admin-webui"]||[]).push([[22],{37:function(e,t,a){e.exports=a.p+"static/media/icon_greensortingdown.7d91f50e.svg"},40:function(e,t,a){e.exports=a.p+"static/media/info.dffb9c37.svg"},64:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var r=a(2),s=a(3),n=a(5),o=a(4),i=a(0),l=a.n(i),c=(a(1),a(37)),m=a.n(c),d=a(40),u=a.n(d),p=function(e){Object(n.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={objId:[{objName:"EC",objIndex:"1"},{objName:"TC",objIndex:"2"},{objName:"DIVE",objIndex:"3"},{objName:"GlobalScape",objIndex:"4"},{objName:"EKS-SMALL",objIndex:"5"},{objName:"EKS-MEDIUM",objIndex:"6"},{objName:"EKS_LARGE",objIndex:"7"},{objName:"EKS_XL",objIndex:"8"},{objName:"Tesla-Model-Y",objIndex:"9"}],currencyId:[{name:"USD",id:"1"},{name:"INR",id:"2"},{name:"YEN",id:"3"},{name:"SDC",id:"4"}],transactionForm:{revision:{value:"v1.2beta",dirtyState:!1},licenseId:{value:"",dirtyState:!1},objId:{value:"1",dirtyState:!1},currencyId:{value:"1",dirtyState:!1},eaAmount:{value:"98",dirtyState:!1},qty:{value:"1",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1},paymentVadStr1:{value:"",dirtyState:!1},paymentVadStr2:{value:"",dirtyState:!1},paymentVadStr3:{value:"",dirtyState:!1}},transactionFormIsValid:!1,errorsForm:{}},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object.assign({},this.state.transactionForm);if(this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success"),null!==sessionStorage.getItem("userData")){var t=JSON.parse(sessionStorage.getItem("userData"));console.log(t),e.licenseId.value=t[0].license,e.oidcUserId.value=t[0].userId,this.setState({transactionForm:e}),this.props.hideGlobalMessage()}}},{key:"handleFormData",value:function(e){var t=Object.assign({},this.state.transactionForm),a=e.target.name,r=e.target.value;"paymentVadStr1"===a?(t.paymentVadStr1.value=r,t.paymentVadStr1.dirtyState=!0):"paymentVadStr2"===a&&(t.paymentVadStr2.value=r,t.paymentVadStr2.dirtyState=!0),this.setState({transactionForm:t}),this.handleFormValidation()}},{key:"handleFormValidation",value:function(){var e=this.state.transactionForm,t=!0,a={},r=(e.licenseId,e.objId,e.currencyId,e.eaAmount,e.qty,e.oidcUserId,e.paymentVadStr1),s=e.paymentVadStr2;""===r.value.trim()&&(r.dirtyState&&(a.paymentVadStr1="Please enter BUC"),t=!1),""===s.value.trim()&&(s.dirtyState&&(a.paymentVadStr2="Please enter ADN"),t=!1),this.setState({errorsForm:a,transactionFormIsValid:t})}},{key:"createSubscription",value:function(){var e=this;this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success");var t=Object.assign({},this.state.transactionForm),a={},r=this.props.baseUrl+t.revision.value+"/seeds";a.licenseId=t.licenseId.value,a.objId=t.objId.value,a.currencyId=t.currencyId.value,a.eaAmount=t.eaAmount.value,a.qty=t.qty.value,a.oidcUserId=t.oidcUserId.value,a.revision=t.revision.value,a.paymentVadStr1=t.paymentVadStr1.value,a.paymentVadStr2=t.paymentVadStr2.value,a.paymentVadStr3=t.paymentVadStr3.value,console.log(a),fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken},body:JSON.stringify(a)}).then((function(t){200===t.status?t.json().then((function(t){"ok"==(t={errorStatus:{status:"ok"}}).errorStatus.status?(e.props.showGlobalMessage(!1,!0,"Record saved successfully","custom-success"),setTimeout((function(){e.props.hideGlobalMessage();e.setState({transactionForm:{revision:{value:"",dirtyState:!1},licenseId:{value:"",dirtyState:!1},objId:{value:"1",dirtyState:!1},currencyId:{value:"1",dirtyState:!1},eaAmount:{value:"1",dirtyState:!1},qty:{value:"",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1},paymentVadStr1:{value:"",dirtyState:!1},paymentVadStr2:{value:"",dirtyState:!1},paymentVadStr3:{value:"",dirtyState:!1}},transactionFormIsValid:!1})}),2e3)):(e.props.showGlobalMessage(!0,!0,t.errorStatus.statusMsg,"custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})):(e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})).catch((function(t){console.log(t),e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Dashboard mt-4"},l.a.createElement("div",{className:"row licenseCreate"},l.a.createElement("div",{className:"col-md-12 mt-2"},l.a.createElement("div",{className:"centered-div-header"},l.a.createElement("div",{className:"row maintainagentcreate-header"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h6",{id:"maintainlicenseCreate-title"},"Create Your Subscription ID ",l.a.createElement("small",null,"One Subscription ID is all you need to access all services.")))),l.a.createElement("hr",null),l.a.createElement("div",{className:"changeable-form subscription-form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label required"},"BUC",l.a.createElement("img",{alt:"down-arrow",src:m.a}),l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:u.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.paymentVadStr1}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"paymentVadStr1",value:this.state.transactionForm.paymentVadStr1.value,onChange:function(t){e.handleFormData(t)}}),l.a.createElement("small",{className:"text-danger"},this.state.errorsForm.paymentVadStr1))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label required"},"ADN",l.a.createElement("img",{alt:"down-arrow",src:m.a}),l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:u.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":"Hello"}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"paymentVadStr2",value:this.state.transactionForm.paymentVadStr2.value,onChange:function(t){e.handleFormData(t)}}),l.a.createElement("small",{className:"text-danger"},this.state.errorsForm.paymentVadStr2)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 mb-2 text-center"},l.a.createElement("button",{id:"create-subscription-btn",disabled:!this.state.transactionFormIsValid,onClick:this.createSubscription.bind(this),className:"btn btn-sm customize-view-btn"},"CREATE SUBCRIPTION"))))))))}}]),a}(l.a.Component)}}]);
//# sourceMappingURL=22.42180dd5.chunk.js.map