(this["webpackJsonpec-admin-webui"]=this["webpackJsonpec-admin-webui"]||[]).push([[20],{37:function(e,t,a){e.exports=a.p+"static/media/icon_greensortingdown.7d91f50e.svg"},40:function(e,t,a){e.exports=a.p+"static/media/info.dffb9c37.svg"},62:function(e,t,a){"use strict";var s,r=new Uint8Array(16);function n(){if(!s&&!(s="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(r)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var i=function(e){return"string"===typeof e&&o.test(e)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!i(a))throw TypeError("Stringified UUID is invalid");return a};t.a=function(e,t,a){var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){a=a||0;for(var r=0;r<16;++r)t[a+r]=s[r];return t}return m(s)}},67:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var s=a(2),r=a(3),n=a(5),o=a(4),i=a(0),l=a.n(i),c=a(62),m=a(1),d=a.n(m),u=a(37),p=a.n(u),h=a(40),v=a.n(h),g=function(e){Object(n.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={isExisting:!1,subscriptionForm:{licenseId:{value:"",dirtyState:!1},emailAddress:{value:"",dirtyState:!1},sso:{value:"",dirtyState:!1},desc:{value:"",dirtyState:!1},username:{value:"",dirtyState:!1},date:{value:"",dirtyState:!1}},errorsSubscriptionForm:{},subscriptionFormIsValid:!1,confidentialities:[{name:"True",id:"true"},{name:"False",id:"false"}],environments:[{name:"PREPROD",id:"PREPROD"},{name:"PROD",id:"PROD"}],optInoptOuts:[{name:"True",id:"true"},{name:"False",id:"false"}],preserves:[{name:"True",id:"true"},{name:"False",id:"false"}]},r}return Object(r.a)(a,[{key:"enableToolTip",value:function(){setTimeout((function(){d()('[data-toggle="popover"]').popover()}),1e3)}},{key:"componentDidMount",value:function(){this.enableToolTip()}},{key:"handleFormData",value:function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value,s=Object.assign({},this.state.subscriptionForm);"emailAddress"===t?(s.emailAddress.value=a,s.emailAddress.dirtyState=!0):"sso"===t?(s.sso.value=a,s.sso.dirtyState=!0):"date"===t?(s.date.value=a,s.date.dirtyState=!0):"desc"===t?(s.desc.value=a,s.desc.dirtyState=!0):"username"===t&&(s.username.value=a,s.username.dirtyState=!0),this.setState({subscriptionForm:s}),this.handleFormValidation()}},{key:"handleFormValidation",value:function(){var e=this.state.subscriptionForm,t=e.emailAddress.value,a=e.emailAddress.dirtyState,s=e.date.value,r=e.date.dirtyState,n=e.username.value,o=e.username.dirtyState,i=!0,l={};""===n.trim()&&(o&&(l.username="Please enter Username"),i=!1),""===t.trim()&&(a&&(l.emailAddress="Please enter Email Address"),i=!1),""===s.trim()&&(r&&(l.date="Please enter Expiry"),i=!1),this.setState({subscriptionFormIsValid:i,errorsSubscriptionForm:l})}},{key:"createSubscription",value:function(){var e=this;this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success");var t=Object.assign({},this.state.subscriptionForm),a={},s=Object(c.a)();a.licenseId=s,a.emailAddress=t.emailAddress.value,a.date=t.date.value,a.sso=t.sso.value,a.desc=t.desc.value,a.username=t.username.value,a.parent="ab2a2691-a563-486c-9883-5111ff36ba9b",a.name="License",console.log(s),fetch(this.props.baseUrl+s,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken},body:JSON.stringify(a)}).then((function(t){localStorage.setItem("prepareData",JSON.stringify(a)),200===t.status?(e.snapshotUpdate(),t.json().then((function(t){"ok"===(t={errorStatus:{status:"ok"}}).errorStatus.status?(e.props.showGlobalMessage(!1,!0,"Record saved successfully","custom-success"),setTimeout((function(){e.props.hideGlobalMessage();e.setState({subscriptionForm:{licenseId:{value:"",dirtyState:!1},emailAddress:{value:"",dirtyState:!1},sso:{value:"",dirtyState:!1},desc:{value:"",dirtyState:!1},username:{value:"",dirtyState:!1},date:{value:"",dirtyState:!1}},subscriptionFormIsValid:!1,isExisting:!1})}),2e3)):(e.props.showGlobalMessage(!0,!0,t.errorStatus.statusMsg,"custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))}))):(e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})).catch((function(t){console.log(t),e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3)}))}},{key:"snapshotUpdate",value:function(){fetch(this.props.baseUrl+"snapshot",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken}}).then((function(e){200===e.status&&e.json().then((function(e){sessionStorage.setItem("snapshotData",JSON.stringify(e))}))}))}},{key:"handleCreateMode",value:function(e){var t=this,a=e.target.checked;this.setState({isExisting:a}),setTimeout((function(){t.handleFormValidation()}),100)}},{key:"showHideField",value:function(e,t,a){var s=Object.assign({},this.state.subscriptionForm);"password"===s[a].type?s[a].type="text":s[a].type="password",this.setState({subscriptionForm:s})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row licenseCreate"},l.a.createElement("div",{className:"col-md-12 mt-2"},l.a.createElement("div",{className:"centered-div"},l.a.createElement("div",{className:"centered-div-header"},l.a.createElement("div",{className:"row maintainagentcreate-header"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h6",{id:"maintainlicenseCreate-title"},"Create License ",l.a.createElement("small",null,"Creating parameters.")))),l.a.createElement("hr",null),l.a.createElement("div",{className:"changeable-form subscription-form"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label required"},"License ID",l.a.createElement("img",{alt:"down-arrow",src:p.a}),l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:v.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.subscriptionName}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"licenseId",readOnly:!0,value:this.state.subscriptionForm.licenseId.value}),l.a.createElement("small",{className:"text-danger"},this.state.errorsSubscriptionForm.licenseId))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label required"},"Expiry Date/Time",l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:v.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.expdate}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"YYYY/DD/MM",className:"form-control form-control-sm",name:"date",value:this.state.subscriptionForm.date.value,onChange:function(t){e.handleFormData(t)}}),l.a.createElement("small",{className:"text-danger"},this.state.errorsSubscriptionForm.date)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label required"},"Email Address",l.a.createElement("img",{alt:"down-arrow",src:p.a}),l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:v.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.subscriptionName}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"emailAddress",value:this.state.subscriptionForm.emailAddress.value,onChange:function(t){e.handleFormData(t)}}),l.a.createElement("small",{className:"text-danger"},this.state.errorsSubscriptionForm.emailAddress))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label"},"SSO",l.a.createElement("img",{alt:"down-arrow",src:p.a}),l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:v.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.subscriptionName}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"sso",value:this.state.subscriptionForm.sso.value,onChange:function(t){e.handleFormData(t)}}),l.a.createElement("small",{className:"text-danger"},this.state.errorsSubscriptionForm.sso)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label required"},"User Fullname",l.a.createElement("img",{alt:"down-arrow",src:p.a}),l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:v.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.username}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"text",className:"form-control form-control-sm",name:"username",value:this.state.subscriptionForm.username.value,onChange:function(t){e.handleFormData(t)}}),l.a.createElement("small",{className:"text-danger"},this.state.errorsSubscriptionForm.username))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"col-sm-12 label"},"Description",l.a.createElement("img",{alt:"down-arrow",src:p.a}),l.a.createElement("span",{className:"float-right help-text"},l.a.createElement("img",{alt:"info",src:v.a,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.desc}))),l.a.createElement("div",{className:"col-sm-12 mb-2"},l.a.createElement("input",{type:"textArea",className:"form-control form-control-sm",name:"desc",value:this.state.subscriptionForm.desc.value,onChange:function(t){e.handleFormData(t)}}),l.a.createElement("small",{className:"text-danger"},this.state.errorsSubscriptionForm.desc)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 mb-2 text-center"},l.a.createElement("button",{id:"create-subscription-btn",disabled:!this.state.subscriptionFormIsValid,onClick:this.createSubscription.bind(this),className:"btn btn-sm customize-view-btn"},"CREATE LICENSE"))))))))}}]),a}(l.a.Component)}}]);
//# sourceMappingURL=20.2b15a7fb.chunk.js.map