"use strict";(self.webpackChunkec_admin_webui=self.webpackChunkec_admin_webui||[]).push([[6],{1905:function(e,t,a){a(2791);t.Z=a.p+"static/media/icon_greensortingdown.31d2161218970ff2041dbc045ec6fafd.svg"},1374:function(e,t,a){a(2791);t.Z=a.p+"static/media/info.fd0d6b5eec47006a284eaaaff6390e46.svg"},6006:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=a(5671),r=a(3144),n=a(9340),o=a(5716),i=a(2791),l=a(1905),d=a(1374),c=a(184),m=function(e){(0,n.Z)(a,e);var t=(0,o.Z)(a);function a(e){var r;return(0,s.Z)(this,a),(r=t.call(this,e)).state={objId:[{objName:"EC",objIndex:"1"},{objName:"TC",objIndex:"2"},{objName:"DIVE",objIndex:"3"},{objName:"GlobalScape",objIndex:"4"},{objName:"EKS-SMALL",objIndex:"5"},{objName:"EKS-MEDIUM",objIndex:"6"},{objName:"EKS_LARGE",objIndex:"7"},{objName:"EKS_XL",objIndex:"8"},{objName:"Tesla-Model-Y",objIndex:"9"}],currencyId:[{name:"USD",id:"1"},{name:"INR",id:"2"},{name:"YEN",id:"3"},{name:"SDC",id:"4"}],transactionForm:{revision:{value:"v1.2beta",dirtyState:!1},licenseId:{value:"",dirtyState:!1},objId:{value:"1",dirtyState:!1},currencyId:{value:"1",dirtyState:!1},eaAmount:{value:"98",dirtyState:!1},qty:{value:"1",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1},paymentVadStr1:{value:"",dirtyState:!1},paymentVadStr2:{value:"",dirtyState:!1},paymentVadStr3:{value:"",dirtyState:!1}},transactionFormIsValid:!1,errorsForm:{}},r}return(0,r.Z)(a,[{key:"componentDidMount",value:function(){var e=Object.assign({},this.state.transactionForm);if(this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success"),null!==sessionStorage.getItem("userData")){var t=JSON.parse(sessionStorage.getItem("userData"));console.log(t),e.licenseId.value=t[0].license,e.oidcUserId.value=t[0].userId,this.setState({transactionForm:e}),this.props.hideGlobalMessage()}}},{key:"handleFormData",value:function(e){var t=Object.assign({},this.state.transactionForm),a=e.target.name,s=e.target.value;"paymentVadStr1"===a?(t.paymentVadStr1.value=s,t.paymentVadStr1.dirtyState=!0):"paymentVadStr2"===a&&(t.paymentVadStr2.value=s,t.paymentVadStr2.dirtyState=!0),this.setState({transactionForm:t}),this.handleFormValidation()}},{key:"handleFormValidation",value:function(){var e=this.state.transactionForm,t=!0,a={},s=e.paymentVadStr1,r=e.paymentVadStr2;""===s.value.trim()&&(s.dirtyState&&(a.paymentVadStr1="Please enter BUC"),t=!1),""===r.value.trim()&&(r.dirtyState&&(a.paymentVadStr2="Please enter ADN"),t=!1),this.setState({errorsForm:a,transactionFormIsValid:t})}},{key:"createSubscription",value:function(){var e=this;this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success");var t=Object.assign({},this.state.transactionForm),a={},s=this.props.baseUrl+t.revision.value+"/seeds";a.licenseId=t.licenseId.value,a.objId=t.objId.value,a.currencyId=t.currencyId.value,a.eaAmount=t.eaAmount.value,a.qty=t.qty.value,a.oidcUserId=t.oidcUserId.value,a.revision=t.revision.value,a.paymentVadStr1=t.paymentVadStr1.value,a.paymentVadStr2=t.paymentVadStr2.value,a.paymentVadStr3=t.paymentVadStr3.value,console.log(a),fetch(s,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken},body:JSON.stringify(a)}).then((function(t){200===t.status?t.json().then((function(t){"ok"===(t={errorStatus:{status:"ok"}}).errorStatus.status?(e.props.showGlobalMessage(!1,!0,"Record saved successfully","custom-success"),setTimeout((function(){e.props.hideGlobalMessage();e.setState({transactionForm:{revision:{value:"",dirtyState:!1},licenseId:{value:"",dirtyState:!1},objId:{value:"1",dirtyState:!1},currencyId:{value:"1",dirtyState:!1},eaAmount:{value:"1",dirtyState:!1},qty:{value:"",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1},paymentVadStr1:{value:"",dirtyState:!1},paymentVadStr2:{value:"",dirtyState:!1},paymentVadStr3:{value:"",dirtyState:!1}},transactionFormIsValid:!1})}),2e3)):(e.props.showGlobalMessage(!0,!0,t.errorStatus.statusMsg,"custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})):(e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})).catch((function(t){console.log(t),e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3)}))}},{key:"render",value:function(){var e=this;return(0,c.jsx)("div",{className:"Dashboard mt-4",children:(0,c.jsx)("div",{className:"row licenseCreate",children:(0,c.jsx)("div",{className:"col-md-12 mt-2",children:(0,c.jsxs)("div",{className:"centered-div-header",children:[(0,c.jsx)("div",{className:"row maintainagentcreate-header",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsxs)("h6",{id:"maintainlicenseCreate-title",children:["Create Your Subscription ID ",(0,c.jsx)("small",{children:"One Subscription ID is all you need to access all services."})]})})}),(0,c.jsx)("hr",{}),(0,c.jsxs)("div",{className:"changeable-form subscription-form",children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-sm-6",children:[(0,c.jsxs)("div",{className:"col-sm-12 label required",children:["BUC",(0,c.jsx)("img",{alt:"down-arrow",src:l.Z}),(0,c.jsx)("span",{className:"float-right help-text",children:(0,c.jsx)("img",{alt:"info",src:d.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.paymentVadStr1})})]}),(0,c.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,c.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"paymentVadStr1",value:this.state.transactionForm.paymentVadStr1.value,onChange:function(t){e.handleFormData(t)}}),(0,c.jsx)("small",{className:"text-danger",children:this.state.errorsForm.paymentVadStr1})]})]}),(0,c.jsxs)("div",{className:"col-sm-6",children:[(0,c.jsxs)("div",{className:"col-sm-12 label required",children:["ADN",(0,c.jsx)("img",{alt:"down-arrow",src:l.Z}),(0,c.jsx)("span",{className:"float-right help-text",children:(0,c.jsx)("img",{alt:"info",src:d.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":"Hello"})})]}),(0,c.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,c.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"paymentVadStr2",value:this.state.transactionForm.paymentVadStr2.value,onChange:function(t){e.handleFormData(t)}}),(0,c.jsx)("small",{className:"text-danger",children:this.state.errorsForm.paymentVadStr2})]})]})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-sm-12 mb-2 text-center",children:(0,c.jsx)("button",{id:"create-subscription-btn",disabled:!this.state.transactionFormIsValid,onClick:this.createSubscription.bind(this),className:"btn btn-sm customize-view-btn",children:"CREATE SUBCRIPTION"})})})]})]})})})})}}]),a}(i.Component)}}]);
//# sourceMappingURL=6.af7541bb.chunk.js.map