"use strict";(self.webpackChunkec_admin_webui=self.webpackChunkec_admin_webui||[]).push([[459,762],{9003:function(e,t,a){a(2791);t.Z=a.p+"static/media/icon_arrowmore.7bff65e9afad56dab17d2d39fe214905.svg"},9459:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=a(2982),n=a(7762),o=a(5671),i=a(3144),s=a(9340),d=a(5716),l=a(2791),c=a(8890),u=a.n(c),h=a(9003),p=a(8215),g=a(184),m=function(e){(0,s.Z)(a,e);var t=(0,d.Z)(a);function a(e){var r;return(0,o.Z)(this,a),(r=t.call(this,e)).state={tableData:[],newTableData:[],showTableInit:!1},r}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];fetch("https://reqres.in/api/users/2",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:this.props.authToken}}).then((function(a){200===a.status&&a.json().then((function(a){var r=[{gatewayId:"Gateway-10afc420-d8ad-41ec-8be6-6f723e6fb18a",userId:"212712078",gatewayPort:"8080",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1b",serviceUrl:"https://b3a2e606-eaa8-4d3c-aadc-c27f12260a1b.run.aws-usw02-dev.ice.predix.io",admToken:"YWRtaW46WUo1NVBpWUkwWXpZcmpFQjVsc0dNNGdOcVRTSDlwS1l5RFJXcldOTElwSjA0TlBJM1M=",hostUrl:"wss://gateway-url/agent"},{gatewayId:"Gateway-d4b7844c-f9b2-4ab3-bab3-592b8ca1629d",userId:"212712078",gatewayPort:"8080",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1d",serviceUrl:"https://b3a2e606-eaa8-4d3c-aadc-c27f12260a1b.run.aws-usw02-dev.ice.predix.io",admToken:"YWRtaW46WUo1NVBpWUkwWXpZcmpFQjVsc0dNNGdOcVRTSDlwS1l5RFJXcldOTElwSjA0TlBJM1M=",hostUrl:"wss://gateway-url/agent"}];if(null===r&&(r=[]),r.length>0){var o,i=(0,n.Z)(r);try{for(i.s();!(o=i.n()).done;){var s=o.value,d={agent_id:""};d.gateway=s.hostUrl,d.group="",d.oauth_provider="",d.zone=s.zone,d.subscription=s.gatewayId,d.remote_port="",d.remote_host="",t.push(d)}}catch(l){i.e(l)}finally{i.f()}}fetch("https://reqres.in/api/users/2",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:e.props.authToken}}).then((function(a){200===a.status&&a.json().then((function(a){var r=[{serverId:"Server-56ca9bb6-62ee-4a41-88bd-107d20ceed30",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1b",serviceUrl:"https://service-url",hostUrl:"wss://gateway-url/agent",agentId:"xbdhfg",groupId:"ec-test",uaaUrl:"https://uaa-url",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,remoteHost:"localhost",remotePort:"5432",plugin:null},{serverId:"Server-849d04cc-2f81-413d-a269-5402960fbd8e",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",zone:"b3a2e606-eaa8-4d3c-aadc-c27f12260a1b",serviceUrl:"https://service-url",hostUrl:"wss://gateway-url/agent",agentId:"xbdhfg",groupId:"ec-test",uaaUrl:"https://uaa-url",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,remoteHost:"localhost",remotePort:"5432",plugin:null}];if(null===r&&(r=[]),r.length>0){var o,i=(0,n.Z)(r);try{for(i.s();!(o=i.n()).done;){var s=o.value,d={};d.agent_id=s.agentId,d.gateway=s.hostUrl,d.group=s.groupId,d.oauth_provider=s.uaaUrl,d.zone=s.zone,d.subscription=s.serverId,d.remote_port=s.remotePort,d.remote_host=s.remoteHost,t.push(d)}}catch(l){i.e(l)}finally{i.f()}}fetch("https://reqres.in/api/users/2",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:e.props.authToken}}).then((function(a){200===a.status&&a.json().then((function(a){var r=[{clientId:"Client-1b95c319-aa6c-44ba-8c2f-2b1764efe697",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",hostUrl:"wss://gateway-url/agent",agentId:"hdsvhe",targetId:"dhvhye",groupId:"ec-test",uaaUrl:"https://url.predix.io/token",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,localPort:"7999",plugin:null},{clientId:"Client-45a222d9-50fa-48c8-a7ec-ec700a1ce44f",gatewayId:"Gateway-16450058-e7e3-4ac2-9315-5fa93afaf709",userId:"212712078",hostUrl:"wss://gateway-url/agent",agentId:"hdsvhe",targetId:"dhvhye",groupId:"ec-test",uaaUrl:"https://url.predix.io/token",uaaClientId:"ec-test",uaaClientSecret:"ec-test",duration:3e3,localPort:"7999",plugin:null}];null===r&&(r=[]);for(var n=0,o=r;n<o.length;n++){var i=o[n],s={};s.agent_id=i.agentId,s.gateway=i.hostUrl,s.group=i.groupId,s.oauth_provider=i.uaaUrl,s.zone="",s.subscription=i.clientId,s.remote_port="",s.remote_host="",t.push(s)}e.generateTableStructure(t),e.setState({tableData:t})}))}))}))}))}))}))}},{key:"componentDidUpdate",value:function(){}},{key:"initTable",value:function(e){var t;t=u()("#"+e+"Div")[0].offsetWidth-200,u()("#"+e).DataTable({dom:'rt<"bottom"lp>',bSort:!0,scrollX:!0,language:{paginate:{previous:"<",next:">"}},createdRow:function(e,a,r){for(var n=0;n<a.length;n++)u()("td:eq("+n+")",e).css("min-width",t/a.length+"px")},pageLength:5,destroy:!0,fnDrawCallback:function(e){e.aiDisplay.length<=5?u()(".dataTables_paginate").hide():u()(".dataTables_paginate").show()}}),u()(".bottom").addClass("row"),u()(".dataTables_length").addClass("col-sm-6"),u()(".dataTables_paginate").addClass("col-sm-6")}},{key:"generateTableStructure",value:function(e){var t,a=this,r=e,o=[],i=(0,n.Z)(r);try{for(i.s();!(t=i.n()).done;){var s=t.value,d={};d.agent_id=s.agent_id,d.group=s.group,s.gateway.length>10?(d.gateway=s.gateway.substr(0,10),d.gatewayHidden=s.gateway,d.gatewayHiddenFlag=!0):(d.gateway=s.gateway,d.gatewayHiddenFlag=!1),s.oauth_provider.length>10?(d.oauth_provider=s.oauth_provider.substr(0,10),d.oauth_providerHidden=s.oauth_provider,d.oauth_providerHiddenFlag=!0):(d.oauth_provider=s.oauth_provider,d.oauth_providerHiddenFlag=!1),s.zone.length>10?(d.zone=s.zone.substr(0,10),d.zoneHidden=s.zone,d.zoneHiddenFlag=!0):(d.zone=s.zone,d.zoneHiddenFlag=!1),s.subscription.length>10?(d.subscription=s.subscription.substr(0,10),d.subscriptionHidden=s.subscription,d.subscriptionHiddenFlag=!0):(d.subscription=s.subscription,d.subscriptionHiddenFlag=!1),s.remote_host.length>10?(d.remote_host=s.remote_host.substr(0,10),d.remote_hostHidden=s.remote_host,d.remote_hostHiddenFlag=!0):(d.remote_host=s.remote_host,d.remote_hostHiddenFlag=!1),s.remote_port.length>10?(d.remote_port=s.remote_port.substr(0,10),d.remote_portHidden=s.remote_port,d.remote_portHiddenFlag=!0):(d.remote_port=s.remote_port,d.remote_portHiddenFlag=!1),o.push(d)}}catch(l){i.e(l)}finally{i.f()}this.setState({newTableData:o,showTableInit:!0}),setTimeout((function(){a.initTable("maintainagentviewTable")}),100)}},{key:"showHideTableTdData",value:function(e,t){var a=(0,r.Z)(this.state.newTableData),n=Object.assign({},a[e]);if("gateway"===t){var o=n.gateway;n.gateway=n.gatewayHidden,n.gatewayHidden=o,n.gatewayHiddenFlag=!n.gatewayHiddenFlag,a[e]=n}else if("oauth_provider"===t){var i=n.oauth_provider;n.oauth_provider=n.oauth_providerHidden,n.oauth_providerHidden=i,n.oauth_providerHiddenFlag=!n.oauth_providerHiddenFlag,a[e]=n}else if("zone"===t){var s=n.zone;n.zone=n.zoneHidden,n.zoneHidden=s,n.zoneHiddenFlag=!n.zoneHiddenFlag,a[e]=n}else if("subscription"===t){var d=n.subscription;n.subscription=n.subscriptionHidden,n.subscriptionHidden=d,n.subscriptionHiddenFlag=!n.subscriptionHiddenFlag,a[e]=n}else if("remote_host"===t){var l=n.remote_host;n.remote_host=n.remote_hostHidden,n.remote_hostHidden=l,n.remote_hostHiddenFlag=!n.remote_hostHiddenFlag,a[e]=n}else if("remote_port"===t){var c=n.remote_port;n.remote_port=n.remote_portHidden,n.remote_portHidden=c,n.remote_portHiddenFlag=!n.remote_portHiddenFlag,a[e]=n}this.setState({newTableData:a})}},{key:"filterByValue",value:function(e,t){return e.filter((function(e){return Object.keys(e).some((function(a){return e[a].toLowerCase().includes(t.toLowerCase())}))}))}},{key:"destroyDataTable",value:function(e){u()("#"+e).DataTable().destroy()}},{key:"filterData",value:function(e){var t=this;this.destroyDataTable("maintainagentviewTable");var a=e.target.value.trim(),o=(0,r.Z)(this.state.tableData),i=[],s=[];i=""!==a?this.filterByValue(o,a):o;var d,l=(0,n.Z)(i);try{for(l.s();!(d=l.n()).done;){var c=d.value,u={};u.agent_id=c.agent_id,u.group=c.group,c.gateway.length>10?(u.gateway=c.gateway.substr(0,10),u.gatewayHidden=c.gateway,u.gatewayHiddenFlag=!0):(u.gateway=c.gateway,u.gatewayHiddenFlag=!1),c.oauth_provider.length>10?(u.oauth_provider=c.oauth_provider.substr(0,10),u.oauth_providerHidden=c.oauth_provider,u.oauth_providerHiddenFlag=!0):(u.oauth_provider=c.oauth_provider,u.oauth_providerHiddenFlag=!1),c.zone.length>10?(u.zone=c.zone.substr(0,10),u.zoneHidden=c.zone,u.zoneHiddenFlag=!0):(u.zone=c.zone,u.zoneHiddenFlag=!1),c.subscription.length>10?(u.subscription=c.subscription.substr(0,10),u.subscriptionHidden=c.subscription,u.subscriptionHiddenFlag=!0):(u.subscription=c.subscription,u.subscriptionHiddenFlag=!1),c.remote_host.length>10?(u.remote_host=c.remote_host.substr(0,10),u.remote_hostHidden=c.remote_host,u.remote_hostHiddenFlag=!0):(u.remote_host=c.remote_host,u.remote_hostHiddenFlag=!1),c.remote_port.length>10?(u.remote_port=c.remote_port.substr(0,10),u.remote_portHidden=c.remote_port,u.remote_portHiddenFlag=!0):(u.remote_port=c.remote_port,u.remote_portHiddenFlag=!1),s.push(u)}}catch(h){l.e(h)}finally{l.f()}this.setState({newTableData:s}),setTimeout((function(){t.initTable("maintainagentviewTable")}),0)}},{key:"render",value:function(){var e=this;return(0,g.jsx)("div",{className:"row Maintainagentview",children:(0,g.jsxs)("div",{className:"col-md-12",children:[(0,g.jsx)("div",{className:"row mt-2",children:(0,g.jsxs)("div",{className:"col-sm-6 text-left",children:[(0,g.jsx)("div",{className:"d-inline",children:(0,g.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-secondary disabled",children:[(0,g.jsx)("i",{className:"fa fa-filter"}),"FILTER"]})}),(0,g.jsx)("div",{className:"d-inline p-2",children:(0,g.jsx)("input",{type:"text",className:"d-inline form-control form-control-sm search-field",onChange:function(t){e.filterData(t)}})})]})}),(0,g.jsx)("div",{className:"centered-div",children:(0,g.jsx)("div",{id:"maintainagentviewTableDiv",children:this.state.showTableInit?(0,g.jsxs)("table",{id:"maintainagentviewTable",className:"table text-center",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Subscription"}),(0,g.jsx)("th",{children:"Agent ID"}),(0,g.jsx)("th",{children:"Gateway"}),(0,g.jsx)("th",{children:"Group"}),(0,g.jsx)("th",{children:"OAuth Provider"}),(0,g.jsx)("th",{children:"Zone"}),(0,g.jsx)("th",{children:"Remote Host"}),(0,g.jsx)("th",{children:"Remote Port"})]})}),(0,g.jsx)("tbody",{children:this.state.newTableData.map((function(t,a){return(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{children:[t.subscription,"\xa0\xa0",t.subscriptionHiddenFlag?(0,g.jsx)("img",{onClick:e.showHideTableTdData.bind(e,a,"subscription"),className:"icon-arrowmore",alt:"td-detail",src:h.Z}):null]}),(0,g.jsx)("td",{children:t.agent_id}),(0,g.jsxs)("td",{children:[t.gateway,"\xa0\xa0",t.gatewayHiddenFlag?(0,g.jsx)("img",{onClick:e.showHideTableTdData.bind(e,a,"gateway"),className:"icon-arrowmore",alt:"td-detail",src:h.Z}):null]}),(0,g.jsx)("td",{children:t.group}),(0,g.jsxs)("td",{children:[t.oauth_provider,"\xa0\xa0",t.oauth_providerHiddenFlag?(0,g.jsx)("img",{onClick:e.showHideTableTdData.bind(e,a,"oauth_provider"),className:"icon-arrowmore",alt:"td-detail",src:h.Z}):null]}),(0,g.jsxs)("td",{children:[t.zone,"\xa0\xa0",t.zoneHiddenFlag?(0,g.jsx)("img",{onClick:e.showHideTableTdData.bind(e,a,"zone"),className:"icon-arrowmore",alt:"td-detail",src:h.Z}):null]}),(0,g.jsxs)("td",{children:[t.remote_host,"\xa0\xa0",t.remote_hostHiddenFlag?(0,g.jsx)("img",{onClick:e.showHideTableTdData.bind(e,a,"remote_host"),className:"icon-arrowmore",alt:"td-detail",src:h.Z}):null]}),(0,g.jsxs)("td",{children:[t.remote_port,"\xa0\xa0",t.remote_portHiddenFlag?(0,g.jsx)("img",{onClick:e.showHideTableTdData.bind(e,a,"remote_port"),className:"icon-arrowmore",alt:"td-detail",src:h.Z}):null]})]},"maintainagentviewTableTbodyTr_"+a)}))})]}):(0,g.jsx)("p",{className:"text-center loader-icon",children:(0,g.jsx)("img",{alt:"loading",src:p.Z})})})})]})})}}]),a}(l.Component)},907:function(e,t,a){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}a.d(t,{Z:function(){return r}})},7762:function(e,t,a){a.d(t,{Z:function(){return n}});var r=a(181);function n(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,d=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){d=!0,i=e},f:function(){try{s||null==a.return||a.return()}finally{if(d)throw i}}}}},2982:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(907);var n=a(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,n.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,a){a.d(t,{Z:function(){return n}});var r=a(907);function n(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,r.Z)(e,t):void 0}}}}]);
//# sourceMappingURL=459.d2aef556.chunk.js.map