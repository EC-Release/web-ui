"use strict";(self.webpackChunkec_admin_webui=self.webpackChunkec_admin_webui||[]).push([[137],{1374:function(e,s,t){t(2791);s.Z=t.p+"static/media/info.fd0d6b5eec47006a284eaaaff6390e46.svg"},137:function(e,s,t){t.r(s),t.d(s,{default:function(){return d}});var a=t(5671),r=t(3144),i=t(9340),o=t(5716),n=t(2791),c=t(1374),l=t(184),d=function(e){(0,i.Z)(t,e);var s=(0,o.Z)(t);function t(e){var r;return(0,a.Z)(this,t),(r=s.call(this,e)).state={transactionForm:{revision:{value:"v1.2beta",dirtyState:!1},transactionId:{value:"",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1}},transactionFormIsValid:!1,errorsForm:{}},r}return(0,r.Z)(t,[{key:"handleFormData",value:function(e){var s=Object.assign({},this.state.transactionForm),t=e.target.value;s.oidcUserId.value=t,s.oidcUserId.dirtyState=!0,this.setState({transactionForm:s}),this.handleFormValidation()}},{key:"handleFormValidation",value:function(){var e=!0,s={},t=this.state.transactionForm.oidcUserId;""===t.value.trim()&&(t.dirtyState&&(s.oidcUserId="Please enter SSO"),e=!1),this.setState({errorsForm:s,transactionFormIsValid:e})}},{key:"shareSubscription",value:function(){var e=this;this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success");var s=Object.assign({},this.state.transactionForm),t={},a=this.props.baseUrl+s.revision.value+"/trs/add/oidc-user-id";t.trid=s.transactionId.value,t.oidcUserId=s.oidcUserId.value,t.revision=s.revision.value,console.log(t),fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken},body:JSON.stringify(t)}).then((function(s){200===s.status?s.json().then((function(s){"ok"==(s={errorStatus:{status:"ok"}}).errorStatus.status?(e.props.showGlobalMessage(!1,!0,"Record saved successfully","custom-success"),setTimeout((function(){e.props.hideGlobalMessage();e.setState({transactionForm:{revision:{value:"v1.2beta",dirtyState:!1},transactionId:{value:"",dirtyState:!1},oidcUserId:{value:"",dirtyState:!1}},transactionFormIsValid:!1})}),2e3)):(e.props.showGlobalMessage(!0,!0,s.errorStatus.statusMsg,"custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})):(e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})).catch((function(s){console.log(s),e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3)}))}},{key:"render",value:function(){var e=this;return(0,l.jsxs)("div",{className:"centered-div-header",children:[(0,l.jsx)("div",{className:"row maintainagentcreate-header",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsxs)("h6",{id:"maintainlicenseCreate-title",children:["Share Subscription"," ",(0,l.jsx)("small",{children:"One Subscription ID can be share among your team."})]})})}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"changeable-form subscription-form",children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-sm-6",children:[(0,l.jsx)("div",{className:"col-sm-12 label required",children:"Subscription ID"}),(0,l.jsx)("div",{className:"col-sm-12 mb-2",children:(0,l.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"licenseId",readOnly:!0})})]}),(0,l.jsxs)("div",{className:"col-sm-6",children:[(0,l.jsxs)("div",{className:"col-sm-12 label required",children:["SSO",(0,l.jsx)("span",{className:"float-right help-text",children:(0,l.jsx)("img",{alt:"info",src:c.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top"})})]}),(0,l.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,l.jsx)("input",{type:"text",autoComplete:"off",className:"form-control form-control-sm",name:"sso",onChange:function(s){e.handleFormData(s)}}),(0,l.jsx)("small",{className:"text-danger",children:this.state.errorsForm.oidcUserId})]})]})]}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-sm-12 mb-2 text-center",children:(0,l.jsx)("button",{id:"create-subscription-btn",disabled:!this.state.transactionFormIsValid,onClick:this.shareSubscription.bind(this),className:"btn btn-sm customize-view-btn",children:"CREATE SUBCRIPTION"})})})]})]})}}]),t}(n.Component)}}]);
//# sourceMappingURL=137.aef5dfd7.chunk.js.map