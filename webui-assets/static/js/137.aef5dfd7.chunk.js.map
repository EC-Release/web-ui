{"version":3,"file":"static/js/137.aef5dfd7.chunk.js","mappings":"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","sources":["assets/images/info.svg","Subscription/SubscriptionCreate/SubscriptionAdd.js"],"sourcesContent":["var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgInfo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    id: \"Capa_1\",\n    enableBackground: \"new 0 0 524.235 524.235\",\n    height: \"512px\",\n    viewBox: \"0 0 524.235 524.235\",\n    width: \"512px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m262.118 0c-144.53 0-262.118 117.588-262.118 262.118s117.588 262.118 262.118 262.118 262.118-117.588 262.118-262.118-117.589-262.118-262.118-262.118zm17.05 417.639c-12.453 2.076-37.232 7.261-49.815 8.303-10.651.882-20.702-5.215-26.829-13.967-6.143-8.751-7.615-19.95-3.968-29.997l49.547-136.242h-51.515c-.044-28.389 21.25-49.263 48.485-57.274 12.997-3.824 37.212-9.057 49.809-8.255 7.547.48 20.702 5.215 26.829 13.967 6.143 8.751 7.615 19.95 3.968 29.997l-49.547 136.242h51.499c.01 28.356-20.49 52.564-48.463 57.226zm15.714-253.815c-18.096 0-32.765-14.671-32.765-32.765 0-18.096 14.669-32.765 32.765-32.765s32.765 14.669 32.765 32.765c0 18.095-14.668 32.765-32.765 32.765z\",\n    \"data-original\": \"#000000\",\n    className: \"active-path\",\n    \"data-old_color\": \"#000000\",\n    fill: \"#8F9CA9\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInfo);\nexport default __webpack_public_path__ + \"static/media/info.fd0d6b5eec47006a284eaaaff6390e46.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\n\r\nimport IconInfo from \"../../assets/images/info.svg\";\r\n\r\nexport default class SubscriptionAdd extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      transactionForm: {\r\n        revision: { value: \"v1.2beta\", dirtyState: false },\r\n        transactionId: { value: \"\", dirtyState: false },\r\n        oidcUserId: { value: \"\", dirtyState: false }\r\n      }, \r\n      transactionFormIsValid: false,\r\n      errorsForm : {},\r\n    }\r\n  }\r\n  /* istanbul ignore next */\r\n  handleFormData(e) {\r\n    let currentForm = Object.assign({}, this.state.transactionForm);\r\n    let updatedValue = e.target.value;\r\n    currentForm.oidcUserId.value = updatedValue;\r\n    currentForm.oidcUserId.dirtyState = true;\r\n\r\n    this.setState({\r\n      transactionForm: currentForm\r\n    });\r\n    this.handleFormValidation();\r\n\r\n  }\r\n\r\n  /* istanbul ignore next */\r\n  handleFormValidation(){\r\n    let formData  = this.state.transactionForm;\r\n    let formIsValid = true;\r\n    let errors = {};\r\n    let oidcUserId = formData.oidcUserId;\r\n\r\n    if(oidcUserId.value.trim() === \"\"){\r\n      if (oidcUserId.dirtyState) {\r\n        errors.oidcUserId = \"Please enter SSO\";\r\n      }\r\n      formIsValid = false;\r\n    }\r\n    this.setState({\r\n      errorsForm:errors,\r\n      transactionFormIsValid: formIsValid\r\n    })\r\n  }\r\n  /* istanbul ignore next */\r\n  shareSubscription(){\r\n    this.props.showGlobalMessage(\r\n      true,\r\n      true,\r\n      \"Please wait...\",\r\n      \"custom-success\"\r\n    );\r\n    let currentForm = Object.assign({}, this.state.transactionForm);\r\n    let prepareData = {};\r\n    let url = this.props.baseUrl + currentForm.revision.value +\"/trs/add/oidc-user-id\";\r\n   \r\n    prepareData.trid  = currentForm.transactionId.value;\r\n    prepareData.oidcUserId = currentForm.oidcUserId.value;\r\n    prepareData.revision = currentForm.revision.value;\r\n    \r\n\r\n    console.log(prepareData);\r\n    fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + this.props.authToken,\r\n      },\r\n      body: JSON.stringify(prepareData),\r\n    })\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          //this.snapshotUpdate();\r\n          response.json().then((respData) => {\r\n            respData = {\r\n              errorStatus: {\r\n                status: \"ok\",\r\n              },\r\n            };\r\n            if (respData.errorStatus.status == \"ok\") {\r\n              this.props.showGlobalMessage(\r\n                false,\r\n                true,\r\n                \"Record saved successfully\",\r\n                \"custom-success\"\r\n              );\r\n              setTimeout(() => {\r\n                this.props.hideGlobalMessage();\r\n                let transactionForm =  {\r\n                  revision: { value: \"v1.2beta\", dirtyState: false },\r\n                  transactionId: { value: \"\", dirtyState: false },\r\n                  oidcUserId: { value: \"\", dirtyState: false }\r\n                };\r\n                this.setState({\r\n                  transactionForm: transactionForm,\r\n                  transactionFormIsValid: false,\r\n                });\r\n              }, 2000);\r\n            } else {\r\n              this.props.showGlobalMessage(\r\n                true,\r\n                true,\r\n                respData.errorStatus.statusMsg,\r\n                \"custom-danger\"\r\n              );\r\n              setTimeout(() => {\r\n                this.props.hideGlobalMessage();\r\n              }, 2000);\r\n            }\r\n          });\r\n        } else {\r\n          this.props.showGlobalMessage(\r\n            true,\r\n            true,\r\n            \"Please try after sometime\",\r\n            \"custom-danger\"\r\n          );\r\n          setTimeout(() => {\r\n            this.props.hideGlobalMessage();\r\n          }, 2000);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        this.props.showGlobalMessage(\r\n          true,\r\n          true,\r\n          \"Please try after sometime\",\r\n          \"custom-danger\"\r\n        );\r\n        setTimeout(() => {\r\n          this.props.hideGlobalMessage();\r\n        }, 2000);\r\n      }); \r\n  }\r\n  /* istanbul ignore next */\r\n  render() {\r\n    /* jshint ignore:start */\r\n    /* istanbul ignore next */\r\n    return (\r\n      /* istanbul ignore next */\r\n\r\n      <div className=\"centered-div-header\">\r\n        <div className=\"row maintainagentcreate-header\">\r\n          <div className=\"col-md-12\">\r\n            <h6 id=\"maintainlicenseCreate-title\">\r\n              Share Subscription{\" \"}\r\n              <small>\r\n                One Subscription ID can be share among your team.\r\n              </small>\r\n            </h6>\r\n          </div>\r\n        </div>\r\n        <hr></hr>\r\n        <div className=\"changeable-form subscription-form\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-6\">\r\n              <div className=\"col-sm-12 label required\">Subscription ID</div>\r\n              <div className=\"col-sm-12 mb-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control form-control-sm\"\r\n                  name=\"licenseId\"\r\n                  readOnly={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-sm-6\">\r\n              <div className=\"col-sm-12 label required\">\r\n                SSO\r\n                <span className=\"float-right help-text\">\r\n                  <img\r\n                    alt=\"info\"\r\n                    src={IconInfo}\r\n                    data-toggle=\"popover\"\r\n                    data-trigger=\"hover\"\r\n                    data-placement=\"top\"\r\n                  />\r\n                </span>\r\n              </div>\r\n              <div className=\"col-sm-12 mb-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  autoComplete=\"off\"\r\n                  className=\"form-control form-control-sm\"\r\n                  name=\"sso\"\r\n                  onChange={(event) => {\r\n                    this.handleFormData(event);\r\n                  }}\r\n                />\r\n                <small className=\"text-danger\">\r\n                  {this.state.errorsForm[\"oidcUserId\"]}\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n                    <div className=\"col-sm-12 mb-2 text-center\">\r\n                      <button\r\n                        id=\"create-subscription-btn\"\r\n                        disabled={!this.state.transactionFormIsValid}\r\n                        onClick={this.shareSubscription.bind(this)}\r\n                        className=\"btn btn-sm customize-view-btn\"\r\n                      >\r\n                        CREATE SUBCRIPTION\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n        </div>\r\n      </div>\r\n    );\r\n    /* jshint ignore:end */\r\n  }\r\n}\r\n"],"names":["SubscriptionAdd","props","state","transactionForm","revision","value","dirtyState","transactionId","oidcUserId","transactionFormIsValid","errorsForm","e","currentForm","Object","assign","this","updatedValue","target","setState","handleFormValidation","formIsValid","errors","trim","showGlobalMessage","prepareData","url","baseUrl","trid","console","log","fetch","method","headers","Accept","Authorization","authToken","body","JSON","stringify","then","response","status","json","respData","errorStatus","setTimeout","hideGlobalMessage","statusMsg","catch","err","className","id","type","name","readOnly","alt","src","IconInfo","autoComplete","onChange","event","handleFormData","disabled","onClick","shareSubscription","bind","React"],"sourceRoot":""}