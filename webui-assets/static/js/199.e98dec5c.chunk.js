"use strict";(self.webpackChunkec_admin_webui=self.webpackChunkec_admin_webui||[]).push([[199],{1905:function(e,s,t){t(2791);s.Z=t.p+"static/media/icon_greensortingdown.31d2161218970ff2041dbc045ec6fafd.svg"},1374:function(e,s,t){t(2791);s.Z=t.p+"static/media/info.fd0d6b5eec47006a284eaaaff6390e46.svg"},7199:function(e,s,t){t.r(s),t.d(s,{default:function(){return h}});var a=t(5671),r=t(3144),i=t(9340),o=t(5716),n=t(2791),l=t(2810),c=t(8890),d=t.n(c),m=t(1905),u=t(1374),p=t(184),h=function(e){(0,i.Z)(t,e);var s=(0,o.Z)(t);function t(e){var r;return(0,a.Z)(this,t),(r=s.call(this,e)).state={isExisting:!1,subscriptionForm:{licenseId:{value:"",dirtyState:!1},emailAddress:{value:"",dirtyState:!1},sso:{value:"",dirtyState:!1},desc:{value:"",dirtyState:!1},username:{value:"",dirtyState:!1},date:{value:"",dirtyState:!1}},errorsSubscriptionForm:{},subscriptionFormIsValid:!1,confidentialities:[{name:"True",id:"true"},{name:"False",id:"false"}],environments:[{name:"PREPROD",id:"PREPROD"},{name:"PROD",id:"PROD"}],optInoptOuts:[{name:"True",id:"true"},{name:"False",id:"false"}],preserves:[{name:"True",id:"true"},{name:"False",id:"false"}]},r}return(0,r.Z)(t,[{key:"enableToolTip",value:function(){setTimeout((function(){d()('[data-toggle="popover"]').popover()}),1e3)}},{key:"componentDidMount",value:function(){this.enableToolTip()}},{key:"handleFormData",value:function(e){var s=e.target.name,t="checkbox"===e.target.type?e.target.checked:e.target.value,a=Object.assign({},this.state.subscriptionForm);"emailAddress"===s?(a.emailAddress.value=t,a.emailAddress.dirtyState=!0):"sso"===s?(a.sso.value=t,a.sso.dirtyState=!0):"date"===s?(a.date.value=t,a.date.dirtyState=!0):"desc"===s?(a.desc.value=t,a.desc.dirtyState=!0):"username"===s&&(a.username.value=t,a.username.dirtyState=!0),this.setState({subscriptionForm:a}),this.handleFormValidation()}},{key:"handleFormValidation",value:function(){var e=this.state.subscriptionForm,s=e.emailAddress.value,t=e.emailAddress.dirtyState,a=e.date.value,r=e.date.dirtyState,i=e.username.value,o=e.username.dirtyState,n=!0,l={};""===i.trim()&&(o&&(l.username="Please enter Username"),n=!1),""===s.trim()&&(t&&(l.emailAddress="Please enter Email Address"),n=!1),""===a.trim()&&(r&&(l.date="Please enter Expiry"),n=!1),this.setState({subscriptionFormIsValid:n,errorsSubscriptionForm:l})}},{key:"createSubscription",value:function(){var e=this;this.props.showGlobalMessage(!0,!0,"Please wait...","custom-success");var s=Object.assign({},this.state.subscriptionForm),t={},a=(0,l.Z)();t.licenseId=a,t.emailAddress=s.emailAddress.value,t.date=s.date.value,t.sso=s.sso.value,t.desc=s.desc.value,t.username=s.username.value,t.parent="ab2a2691-a563-486c-9883-5111ff36ba9b",t.name="License",console.log(a),fetch(this.props.baseUrl+a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken},body:JSON.stringify(t)}).then((function(s){localStorage.setItem("prepareData",JSON.stringify(t)),200===s.status?(e.snapshotUpdate(),s.json().then((function(s){"ok"===(s={errorStatus:{status:"ok"}}).errorStatus.status?(e.props.showGlobalMessage(!1,!0,"Record saved successfully","custom-success"),setTimeout((function(){e.props.hideGlobalMessage();e.setState({subscriptionForm:{licenseId:{value:"",dirtyState:!1},emailAddress:{value:"",dirtyState:!1},sso:{value:"",dirtyState:!1},desc:{value:"",dirtyState:!1},username:{value:"",dirtyState:!1},date:{value:"",dirtyState:!1}},subscriptionFormIsValid:!1,isExisting:!1})}),2e3)):(e.props.showGlobalMessage(!0,!0,s.errorStatus.statusMsg,"custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))}))):(e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3))})).catch((function(s){console.log(s),e.props.showGlobalMessage(!0,!0,"Please try after sometime","custom-danger"),setTimeout((function(){e.props.hideGlobalMessage()}),2e3)}))}},{key:"snapshotUpdate",value:function(){fetch(this.props.baseUrl+"snapshot",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.authToken}}).then((function(e){200===e.status&&e.json().then((function(e){sessionStorage.setItem("snapshotData",JSON.stringify(e))}))}))}},{key:"handleCreateMode",value:function(e){var s=this,t=e.target.checked;this.setState({isExisting:t}),setTimeout((function(){s.handleFormValidation()}),100)}},{key:"showHideField",value:function(e,s,t){var a=Object.assign({},this.state.subscriptionForm);"password"===a[t].type?a[t].type="text":a[t].type="password",this.setState({subscriptionForm:a})}},{key:"render",value:function(){var e=this;return(0,p.jsx)("div",{className:"row licenseCreate",children:(0,p.jsx)("div",{className:"col-md-12 mt-2",children:(0,p.jsx)("div",{className:"centered-div",children:(0,p.jsxs)("div",{className:"centered-div-header",children:[(0,p.jsx)("div",{className:"row maintainagentcreate-header",children:(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsxs)("h6",{id:"maintainlicenseCreate-title",children:["Create License ",(0,p.jsx)("small",{children:"Creating parameters."})]})})}),(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{className:"changeable-form subscription-form",children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-sm-6",children:[(0,p.jsxs)("div",{className:"col-sm-12 label required",children:["License ID",(0,p.jsx)("img",{alt:"down-arrow",src:m.Z}),(0,p.jsx)("span",{className:"float-right help-text",children:(0,p.jsx)("img",{alt:"info",src:u.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.subscriptionName})})]}),(0,p.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,p.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"licenseId",readOnly:!0,value:this.state.subscriptionForm.licenseId.value}),(0,p.jsx)("small",{className:"text-danger",children:this.state.errorsSubscriptionForm.licenseId})]})]}),(0,p.jsxs)("div",{className:"col-sm-6",children:[(0,p.jsxs)("div",{className:"col-sm-12 label required",children:["Expiry Date/Time",(0,p.jsx)("span",{className:"float-right help-text",children:(0,p.jsx)("img",{alt:"info",src:u.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.expdate})})]}),(0,p.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,p.jsx)("input",{type:"text",autoComplete:"off",placeholder:"YYYY/DD/MM",className:"form-control form-control-sm",name:"date",value:this.state.subscriptionForm.date.value,onChange:function(s){e.handleFormData(s)}}),(0,p.jsx)("small",{className:"text-danger",children:this.state.errorsSubscriptionForm.date})]})]})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-sm-6",children:[(0,p.jsxs)("div",{className:"col-sm-12 label required",children:["Email Address",(0,p.jsx)("img",{alt:"down-arrow",src:m.Z}),(0,p.jsx)("span",{className:"float-right help-text",children:(0,p.jsx)("img",{alt:"info",src:u.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.subscriptionName})})]}),(0,p.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,p.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"emailAddress",value:this.state.subscriptionForm.emailAddress.value,onChange:function(s){e.handleFormData(s)}}),(0,p.jsx)("small",{className:"text-danger",children:this.state.errorsSubscriptionForm.emailAddress})]})]}),(0,p.jsxs)("div",{className:"col-sm-6",children:[(0,p.jsxs)("div",{className:"col-sm-12 label",children:["SSO",(0,p.jsx)("img",{alt:"down-arrow",src:m.Z}),(0,p.jsx)("span",{className:"float-right help-text",children:(0,p.jsx)("img",{alt:"info",src:u.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.subscriptionName})})]}),(0,p.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,p.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"sso",value:this.state.subscriptionForm.sso.value,onChange:function(s){e.handleFormData(s)}}),(0,p.jsx)("small",{className:"text-danger",children:this.state.errorsSubscriptionForm.sso})]})]})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-sm-6",children:[(0,p.jsxs)("div",{className:"col-sm-12 label required",children:["User Fullname",(0,p.jsx)("img",{alt:"down-arrow",src:m.Z}),(0,p.jsx)("span",{className:"float-right help-text",children:(0,p.jsx)("img",{alt:"info",src:u.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.username})})]}),(0,p.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,p.jsx)("input",{type:"text",className:"form-control form-control-sm",name:"username",value:this.state.subscriptionForm.username.value,onChange:function(s){e.handleFormData(s)}}),(0,p.jsx)("small",{className:"text-danger",children:this.state.errorsSubscriptionForm.username})]})]}),(0,p.jsxs)("div",{className:"col-sm-6",children:[(0,p.jsxs)("div",{className:"col-sm-12 label",children:["Description",(0,p.jsx)("img",{alt:"down-arrow",src:m.Z}),(0,p.jsx)("span",{className:"float-right help-text",children:(0,p.jsx)("img",{alt:"info",src:u.Z,"data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":this.props.helpText.desc})})]}),(0,p.jsxs)("div",{className:"col-sm-12 mb-2",children:[(0,p.jsx)("input",{type:"textArea",className:"form-control form-control-sm",name:"desc",value:this.state.subscriptionForm.desc.value,onChange:function(s){e.handleFormData(s)}}),(0,p.jsx)("small",{className:"text-danger",children:this.state.errorsSubscriptionForm.desc})]})]})]}),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-sm-12 mb-2 text-center",children:(0,p.jsx)("button",{id:"create-subscription-btn",disabled:!this.state.subscriptionFormIsValid,onClick:this.createSubscription.bind(this),className:"btn btn-sm customize-view-btn",children:"CREATE LICENSE"})})})]})]})})})})}}]),t}(n.Component)},2810:function(e,s,t){var a;t.d(s,{Z:function(){return m}});var r=new Uint8Array(16);function i(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var n=function(e){return"string"===typeof e&&o.test(e)},l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));var d=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(l[e[s+0]]+l[e[s+1]]+l[e[s+2]]+l[e[s+3]]+"-"+l[e[s+4]]+l[e[s+5]]+"-"+l[e[s+6]]+l[e[s+7]]+"-"+l[e[s+8]]+l[e[s+9]]+"-"+l[e[s+10]]+l[e[s+11]]+l[e[s+12]]+l[e[s+13]]+l[e[s+14]]+l[e[s+15]]).toLowerCase();if(!n(t))throw TypeError("Stringified UUID is invalid");return t};var m=function(e,s,t){var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,s){t=t||0;for(var r=0;r<16;++r)s[t+r]=a[r];return s}return d(a)}}}]);
//# sourceMappingURL=199.e98dec5c.chunk.js.map